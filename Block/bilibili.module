#!name=å“”å“©å“”å“©
#!desc=å“”å“©å“”å“©åŠŸèƒ½æ•´åˆ
# ==UserScript==
# @ScriptName        BiliBili_AdBlock_DIY
# @Author            @ddgksf2013, @blackmatrix7, @app2smile, @yjqiang
# @ForHelp           è‹¥æœ‰å±è”½å¹¿å‘Šçš„éœ€æ±‚ï¼Œå¯å…¬ä¼—å·åå°å›å¤APPåç§°
# @TaiWanBilibili    https://apps.apple.com/tw/app/id1517062289
# @HKBilibili        https://apps.apple.com/hk/app/id1517062289
# @FanjuChuChai      https://space.bilibili.com/11783021/
# @WechatID          å…¬ä¼—å·å¢¨é±¼æ‰‹è®°
# @TgChannel         https://t.me/ddgksf2021
# @Contribute        https://t.me/ddgksf2013_bot
# @Feedback          ğŸ“® ddgksf2013@163.com ğŸ“®
# @UpdateTime        2022-10-02
# @ConfigVersion     V0.0.81
# @Attention         å¦‚æœå¹¿å‘Šä»ç„¶å­˜åœ¨ï¼Œè¯·æ¸…é™¤ç¼“å­˜æˆ–å¸è½½åº”ç”¨é‡æ–°å®‰è£…
# @Attention         å¦‚éœ€å¼•ç”¨è¯·æ³¨æ˜å‡ºå¤„ï¼Œè°¢è°¢åˆä½œï¼
# @Function          å»å¹¿å‘Šé…ç½®ï¼ˆè‡ªç”¨ï¼Œä¸å®šæœŸæ›´æ–°ï¼‰
# @Suitable          è‡ªè¡Œè§‚çœ‹â€œ# > â€æ³¨é‡Šå†…å®¹
# @ScriptURL         https://github.com/ddgksf2013/Cuttlefish/raw/master/Rewrite/AdBlock/Bilibili.conf
# ==/UserScript==
//Bç«™è§£é”æ™®é€šè§†é¢‘é«˜ç ç‡ä»…é€‚ç”¨å›½åŒºç²‰è‰²APPï¼Œå¤–åŒºä¸ºè‡ªæˆ‘å®‰æ…°
[MITM]
hostname = %APPEND% *.hdslb.com,app.bilibili.com,api.live.bilibili.com,api.vc.bilibili.com, api.bilibili.com, manga.bilibili.com, grpc.biliapi.net,api.biliapi.net, -broadcast.chat.bilibili.com, -*cdn*.biliapi.net, -*tracker*.biliapi.net, upos-hz-mirrorakam.akamaized.net

[Rule]
#é˜²æ­¢tunæ¨¡å¼ä¸‹åˆ‡åŒºè„šæœ¬å¤±æ•ˆ
IP-CIDR,203.107.1.1/24,REJECT,no-resolve

[URL Rewrite]
#UPOSæœåŠ¡å™¨æ›¿æ¢ä¸ºè…¾è®¯Coså¯¹è±¡å­˜å‚¨
^https?:\/\/upos-hz-mirrorakam\.akamaized\.net\/(.*) https://upos-sz-mirrorcos.bilivideo.com/$1 302
# ï½ BiliBili_å“”å“©å“”å“©_å±è”½å¹¿å‘Šæµ®çª—@ddgksf2013
^https?:\/\/api\.bilibili\.com\/pgc\/activity\/deliver\/material\/receive - reject-dict
# ï½ BiliBili_å“”å“©å“”å“©_å±è”½IPè¯·æ±‚@ddgksf2013
^https?:\/\/app\.bilibili\.com\/x\/resource\/ip - reject
# ï½ BiliBili_å“”å“©å“”å“©_å±è”½DefaultWord@ddgksf2013
^https?:\/\/app\.bilibili\.com\/bilibili\.app\.interface\.v1\.Search\/Default - reject
# ï½ BiliBili_å“”å“©å“”å“©_åº”ç”¨å¼€å±å»å¹¿å‘Š@bm7
^https://app.bilibili.com/x/v2/splash/show - reject-dict
# ï½ BiliBili_å“”å“©å“”å“©_Defaultword@ddgksf2013
^https://app.bilibili.com/x/v2/search/defaultwords - reject-dict
# ï½ BiliBili_å“”å“©å“”å“©_Material_Ad@ddgksf2013
^https?:\/\/api\.bilibili\.com\/x\/vip\/ads\/material\/report - reject-dict
# ï½ BiliBili_å“”å“©å“”å“©_å°å¡ç‰‡å¹¿å‘Š@ddgksf2013
^https://api.bilibili.com/pgc/season/player/cards - reject-dict
# ï½ BiliBili_å“”å“©å“”å“©_å»é™¤åŠ¨æ€ä¸­çš„è¯é¢˜@bm7
^https?:\/\/api\.vc\.bilibili\.com\/topic_svr\/v1\/topic_svr - reject-dict
# ï½ BiliBili_å“”å“©å“”å“©_æ¼«ç”»å»å¹¿å‘Š@ddgksf2013
^https?:\/\/manga\.bilibili\.com\/twirp\/comic\.v\d\.Comic\/(Flash|ListFlash) - reject-dict
[script]
# ï½ å—¶å“©å—¶å“©ç¹é«”CCå­—å¹•è½‰ä¸­æ–‡ç°¡é«”ï¼ˆ2022-04-02ï¼‰@ddgksf2013
ç®€ä½“å­—å¹• = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/i.\.hdslb\.com\/bfs\/subtitle\/.+\.json$,script-path=https://gitlab.com/ddgksf2013/Cuttlefish/-/raw/master/Script/bilibili_cc.js
# ï½ BiliBili_å“”å“©å“”å“©_è§‚å½±é¡µé¢å»å¹¿å‘Š@ddgksf2013
è§‚å½±é¡µå¹¿å‘Š = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/api\.(bilibili|biliapi)\.(com|net)\/pgc\/page\/cinema\/tab\?,script-path=https://raw.githubusercontent.com/chengkongyiban/shadowrocket/main/scripts/bilibili_json.js

# ï½ BiliBili_å“”å“©å“”å“©_åº”ç”¨å¼€å±å¹¿å‘Šé¢„åŠ è½½@yjqiang
å¼€å±é¢„åŠ è½½ = type=http-response,requires-body=1,max-size=0,pattern=^https:\/\/app\.bilibili\.com\/x\/v2\/splash\/list,script-path=https://raw.githubusercontent.com/chengkongyiban/shadowrocket/main/scripts/bilibili_json.js
# ï½ BiliBili_å“”å“©å“”å“©_å»é™¤ç»Ÿä¸€è®¾ç½®çš„çš®è‚¤@ddgksf2013
ç¦ç»Ÿä¸€çš®è‚¤ = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/app\.bilibili\.com\/x\/resource\/show\/skin\?,script-path=https://raw.githubusercontent.com/chengkongyiban/shadowrocket/main/scripts/bilibili_json.js
# ï½ BiliBili_å“”å“©å“”å“©_1080Pé«˜ç ç‡+4Kç”»è´¨(ç•ªå‰§å’Œå½±è§†é™¤å¤–)@ddgksf2013
è§£é”é«˜ç ç‡ = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/app\.bilibili\.com\/x\/v2\/account\/myinfo\?,script-path=https://raw.githubusercontent.com/chengkongyiban/shadowrocket/main/scripts/bilibili_json.js
# ï½ BiliBili_å“”å“©å“”å“©_çƒ­æœå‘ç°@ddgksf2013
çƒ­æœ = type=http-response,requires-body=1,max-size=0,pattern=^https://app.bilibili.com/x/v2/search/square,script-path=https://raw.githubusercontent.com/chengkongyiban/shadowrocket/main/scripts/bilibili_json.js
# ï½ BiliBili_å“”å“©å“”å“©_å±è”½é¦–é¡µå³ä¸Šæ´»åŠ¨@ddgksf2013
å±è”½é¦–é¡µå³ä¸Šè§’æ´»åŠ¨ = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/app\.bilibili\.com\/x\/resource\/top\/activity,script-path=https://gitlab.com/ddgksf2013/Cuttlefish/-/raw/master/Script/bilibili_json.js
# ï½ BiliBili_å“”å“©å“”å“©_æ¨èå»å¹¿å‘Š@ddgksf2013
æ¨èå»å¹¿å‘Š = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/app\.bilibili\.com\/x\/v2\/feed\/index,script-path=https://raw.githubusercontent.com/chengkongyiban/shadowrocket/main/scripts/bilibili_json.js
# ï½ BiliBili_å“”å“©å“”å“©_è¿½ç•ªå»å¹¿å‘Š@ddgksf2013
è¿½ç•ªå»å¹¿å‘Š = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/api\.(bilibili|biliapi)\.(com|net)\/pgc\/page\/bangumi,script-path=https://raw.githubusercontent.com/chengkongyiban/shadowrocket/main/scripts/bilibili_json.js
# ï½ BiliBili_å“”å“©å“”å“©_ç›´æ’­å»å¹¿å‘Š@bm7
ç›´æ’­å»å¹¿å‘Š = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/api\.live\.bilibili\.com\/xlive\/app-room\/v1\/index\/getInfoByRoom,script-path=https://raw.githubusercontent.com/chengkongyiban/shadowrocket/main/scripts/bilibili_json.js
# ï½ BiliBili_å“”å“©å“”å“©_æ ‡ç­¾é¡µå¤„ç†@ddgksf2013
æ ‡ç­¾é¡µå¤„ç† = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/app\.bilibili\.com\/x\/resource\/show\/tab,script-path=https://raw.githubusercontent.com/chengkongyiban/shadowrocket/main/scripts/bilibili_json.js
# ï½ BiliBili_å“”å“©å“”å“©_æˆ‘çš„é¡µé¢å¤„ç†@ddgksf2013
æˆ‘çš„é¡µé¢å¤„ç† = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/app\.bilibili\.com\/x\/v2\/account\/mine,script-path=https://raw.githubusercontent.com/chengkongyiban/shadowrocket/main/scripts/bilibili_json.js
# ï½ BiliBili_å“”å“©å“”å“©_Protoå»å¹¿å‘Š@app2smile
Protoå»å¹¿å‘Š = type=http-response,requires-body=1,max-size=0,pattern=^https:\/\/app\.bilibili\.com\/bilibili\.app\.(view\.v1\.View\/View|dynamic\.v2\.Dynamic\/DynAll)$,script-path=https://raw.githubusercontent.com/app2smile/rules/master/js/bilibili-proto.js
#Bç«™åˆ‡åŒº
#Bili Region = type=http-response,pattern=^https:\/\/ap(p|i)\.bili(bili|api)\.(com|net)\/(pgc\/view\/v\d\/app\/season|x\/offline\/version)\?,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Surge/JS/Bili_Auto_Regions.js

#å¯é€‰, é€‚ç”¨äºæœç´¢æŒ‡å®šåœ°åŒºçš„ç•ªå‰§
#Bili Search = type=http-request,pattern=^https:\/\/ap(p|i)\.bili(bili|api)\.(com|net)\/x\/v\d\/search(\/type)?\?.+?%20(%E6%B8%AF|%E5%8F%B0|%E4%B8%AD)&,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Surge/JS/Bili_Auto_Regions.js
